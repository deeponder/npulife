<!DOCTYPE html>
<html>
<head>
    <title></title>
</head>
<body>
<!-- 为ECharts准备一个具备大小（宽高）的Dom -->
    <div id="chart1" style="height:400px;"></div>
    <div id="chart2" style="height:400px;"></div>
    <div id="chart4" style="height:400px;"></div> 
    <!-- ECharts单文件引入 -->
    <script src="http://echarts.baidu.com/build/dist/echarts.js"></script>
    <script type="text/javascript">
        // 路径配置
        require.config({
            paths: {
                echarts: 'http://echarts.baidu.com/build/dist'
            }
        });
        
        // 使用
        require(
            [
                'echarts',
                'echarts/chart/pie', // 使用柱状图就加载bar模块，按需加载
                'echarts/chart/bar'
            ],
            function (ec) {
                // 基于准备好的dom，初始化echarts图表
                var myChart1 = ec.init(document.getElementById('chart1')); 
                var myChart2 = ec.init(document.getElementById('chart2')); 
                var myChart4 = ec.init(document.getElementById('chart4')); 
                //数据
                var data1 = new Array();
                data1.push({
                   value: {$graduate},name:"研究生"
                   });
                data1.push({
                   value:{$undergraduate},name:"本科生"
                   }) ;
                var data2 = new Array();
                data2.push({
                   value: {$num2_0},name:"每条必看"
                   });
                data2.push({
                   value:{$num2_1},name:"经常会"
                   }) ;
                data2.push({
                   value:{$num2_2},name:"偶尔会"
                   }) ;
                data2.push({
                   value:{$num2_3},name:"很少，几乎不会"
                   }) ;
                var option1 = {
                        title : {
                            text: '学生类型统计',
                            x:'center'
                        },
                        tooltip : {
                            trigger: 'item',
                            formatter: "{a} <br/>{b} : {c} ({d}%)"
                        },
                        legend: {
                            show: false,
                            orient : 'vertical',
                            x : 'left',
                            data:['本科生','研究生']
                        },
                        toolbox: {
                            show : false,
                        },
                        calculable : true,
                        series : [
                            {
                                name:'访问来源',
                                type:'pie',
                                radius : '55%',
                                center: ['50%', '60%'],
                                data:data1,
                            }
                        ]
                };
                var option2 = {
                        title : {
                            text: '您会仔细阅读瓜大生活圈推送的内容么',
                            x:'center'
                        },
                        tooltip : {
                            trigger: 'item',
                            formatter: "{a} <br/>{b} : {c} ({d}%)"
                        },
                        toolbox: {
                            show : false,
                        },
                        calculable : true,
                        series : [
                            {
                                name:'学生答案',
                                type:'pie',
                                radius : '55%',
                                center: ['50%', '60%'],
                                data:data2,
                            }
                        ]
                };
                
                var option4 = {
                    title : {
                        text: '学生希望在公众号上了解的内容',
                        x:'center'
                    },
                    tooltip: {
                        show: true
                    },
                    legend: {
                        show: false,
                        data:['销量']
                    },
                    xAxis : [
                        {
                            type : 'category',
                            data : ["学校咨询、通知","社团活动、比赛","便捷服务","社会热点解读","周边优惠","名人专访","其他"]
                        }
                    ],
                    yAxis : [
                        {
                            type : 'value'
                        }
                    ],
                    series : [
                        {
                            "name":"选择数目",
                            "type":"bar",
                            "data":[{$num4_0}, {$num4_1}, {$num4_2}, {$num4_3}, {$num4_4}, {$num4_5},{$num4_6}]
                        }
                    ]
                };
       
                // 为echarts对象加载数据 
                myChart1.setOption(option1); 
                myChart2.setOption(option2); 
                myChart4.setOption(option4); 
                
            }
        );
    </script>
</body>
</html>